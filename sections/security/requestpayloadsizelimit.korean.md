# ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë‚˜ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•´ì„œ í˜ì´ë¡œë“œ í¬ê¸°ë¥¼ ì œí•œí•´ë¼

### í•œë¬¸ë‹¨ ìš”ì•½

JSON ì¸ì½”ë”© í˜ì´ë¡œë“œì™€ ê°™ì€ ìš”ì²­êµ¬ë¬¸ì€ ìš”ì²­ì˜ í¬ê¸°ê°€ í´ìˆ˜ë¡ ë†’ì€ ì„±ëŠ¥ì´ ìš”êµ¬ëœë‹¤.
ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìš”ì²­ì„ ì²˜ë¦¬í•  ë•Œ í˜ì´ë¡œë“œì˜ í¬ê¸°ë¥¼ ì œí•œí•´ì•¼ í•œë‹¤.
ìš”ì²­ì˜ í¬ê¸°ë¥¼ ì œí•œí•˜ì§€ ì•Šìœ¼ë©´ ì„œë¹„ìŠ¤ ê±°ë¶€ ë˜ëŠ” ê¸°íƒ€ ì›ì¹˜ ì•ŠëŠ” ë¶€ì‘ìš©ìœ¼ë¡œ ì¸í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì´ ì €í•˜ë˜ê±°ë‚˜ ì¶©ëŒì´ ìƒê¸´ë‹¤.
Expressë¥¼ ìœ„í•œ`body-parser`ì™€ ê°™ì€ ìš”ì²­ë¬¸ ë¶„ì„ì„ ìœ„í•œ ì¸ê¸° ìˆëŠ” ë¯¸ë“¤ì›¨ì–´ì˜ ìš”ì²­ í˜ì´ë¡œë“œ í¬ê¸° ì œí•œ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ê°œë°œìëŠ” ì‰½ê²Œ ìš”ì²­ì˜ í¬ê¸°ë¥¼ ì œí•œí•  ìˆ˜ ìˆë‹¤.
ë‹¹ì‹ ì€ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë˜ëŠ” ì›¹ì„œë²„ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì§€ì›í•œë‹¤ë©´ í•´ë‹¹ ê¸°ëŠ¥ì„ í†µí•´ ìš”ì²­ë¬¸ì˜ í¬ê¸°ì œí•œì„ í†µí•©í•  ìˆ˜ ìˆë‹¤.
ë‹¤ìŒì€ `express` ë˜ëŠ” `nginx`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ë¬¸ì˜ í¬ê¸°ë¥¼ ì œí•œí•˜ëŠ” ì˜ˆì´ë‹¤.

### `express`ë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œ

```javascript
const express = require('express');

const app = express();

app.use(express.json({ limit: '300kb' })); // body-parserì˜ ê¸°ë³¸ ì‚¬ì´ì¦ˆ ì œí•œì€ 100kbì´ë‹¤

// json bodyì„ í¬í•¨í•œ ìš”ì²­
app.post('/json', (req, res) => {

    //body-parserê°€ content-typeì„ ì²´í¬í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— content-typeì´ jsonì¸ì§€ í™•ì¸í•œë‹¤
    if (!req.is('json')) {
        return res.sendStatus(415); // JSONìœ¼ë¡œ ì´ë£¨ì–´ì§„ ìš”ì²­ë¬¸ì´ ì•„ë‹Œê²ƒì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.
    }

    res.send('Hooray, it worked!');
});

app.listen(3000, () => console.log('Example app listening on port 3000!'));
```

ğŸ”— [**express.json()ì„ ìœ„í•œ Express ë¬¸ì„œ**](http://expressjs.com/en/4x/api.html#express.json)

### `nginx`ë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œ

```nginx
http {
    ...
    # ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ 1MBì˜ í¬ê¸° ì œí•œ
    client_max_body_size 1m;
}

server {
    ...
    # íŠ¹ì • ì„œë²„ë¡œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì— ëŒ€í•´ 1MBì˜ í¬ê¸° ì œí•œ
    client_max_body_size 1m;
}

location /upload {
    ...
    # íŠ¹ì • ê²½ë¡œë¡œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì— ëŒ€í•´ 1MBì˜ í¬ê¸° ì œí•œ
    client_max_body_size 1m;
}
```

ğŸ”— [**client_max_body_size ì‚¬ìš©ì„ ìœ„í•œ Nginx ë¬¸ì„œ**](http://nginx.org/en/docs/http/ngx_http_core_module.html#client_max_body_size)