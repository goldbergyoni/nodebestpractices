# ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰éš ã™

### ä¸€æ®µè½èª¬æ˜

ã‚µãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã€ä½¿ç”¨ä¸­ã®ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ãã®ä»–æ”»æ’ƒè€…ã«æ‚ªç”¨ã•ã‚Œã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å†…éƒ¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãªã©ã€æ©Ÿå¯†æ€§ã®é«˜ã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è©³ç´°æƒ…å ±ãŒæ¼æ´©ã™ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ãŸã‚ã€æœ¬ç•ªç’°å¢ƒã«ãŠã„ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ã‚’æ™’ã™ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
Express ã«ã¯ã€ã‚¢ãƒ—ãƒªå†…ã§ç™ºç”Ÿã™ã‚‹æã‚Œã®ã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã™ã‚‹ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãŒçµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢é–¢æ•°ã¯ã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢é–¢æ•°ã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å¾Œã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚
ã‚¨ãƒ©ãƒ¼ã‚’ `next()` ã«æ¸¡ã—ã€ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ã§å‡¦ç†ã—ãªã„å ´åˆã¯ã€çµ„ã¿è¾¼ã¿ã® Express ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ã§å‡¦ç†ã•ã‚Œã¾ã™ã€‚ã‚¨ãƒ©ãƒ¼ã¯ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã¨å…±ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«æ›¸ãè¾¼ã¾ã‚Œã¾ã™ã€‚ã“ã®å‹•ä½œã¯ `NODE_ENV` ãŒ `development` ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã«æœ‰åŠ¹ã§ã™ãŒã€`NODE_ENV` ãŒ `production` ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã¯æ›¸ãè¾¼ã¾ã‚Œãšã€HTTP ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã¿ãŒæ›¸ãè¾¼ã¾ã‚Œã¾ã™ã€‚

### ã‚³ãƒ¼ãƒ‰ä¾‹: Express ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©

```javascript
// æœ¬ç•ªã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©
// ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ¼æ´©ã—ãªã„
app.use((err, req, res, next) => {
    res.status(err.status || 500);
    res.render('error', {
        message: err.message,
        error: {}
    });
});
```

### ãã®ä»–ã®ãƒªã‚½ãƒ¼ã‚¹

ğŸ”— [Express.js ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://expressjs.com/en/guide/error-handling.html)
